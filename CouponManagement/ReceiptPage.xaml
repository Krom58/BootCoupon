<?xml version="1.0" encoding="utf-8"?>
<Page
 x:Class="CouponManagement.ReceiptPage"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 xmlns:local="using:CouponManagement"
 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 mc:Ignorable="d">

 <Grid Padding="8" RowSpacing="8">
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto" /> <!-- header -->
 <RowDefinition Height="Auto" /> <!-- filter -->
 <RowDefinition Height="Auto" /> <!-- status text -->
 <RowDefinition Height="*" /> <!-- table -->
 <RowDefinition Height="Auto" /> <!-- footer -->
 </Grid.RowDefinitions>

 <!-- Header -->
 <Border Grid.Row="0" Background="#2b2b2b" CornerRadius="6" Padding="12" Margin="0,0,0,6">
 <TextBlock Text="‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" FontSize="20" FontWeight="SemiBold" Foreground="White" HorizontalAlignment="Center" />
 </Border>

 <!-- Filter panel -->
 <Border Grid.Row="1" Background="#333333" CornerRadius="8" Padding="8" Margin="0,0,0,6">
 <Grid>
 <!-- add two rows: main controls and coupon type selector below -->
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto" />
 <RowDefinition Height="Auto" />
 </Grid.RowDefinitions>
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="Auto" />
 <ColumnDefinition Width="200" />
 <ColumnDefinition Width="Auto" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="Auto" />
 </Grid.ColumnDefinitions>

 <!-- first row: existing controls -->
 <TextBlock Text="‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:" VerticalAlignment="Center" Foreground="White" Margin="6,0" FontSize="13" />
 <ComboBox x:Name="StatusFilterComboBox" Grid.Column="1" VerticalAlignment="Center" Margin="8,0" SelectedIndex="0" Height="28">
 <ComboBoxItem Tag="">-- ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î --</ComboBoxItem>
 <ComboBoxItem Tag="Active">‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</ComboBoxItem>
 <ComboBoxItem Tag="Cancelled">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</ComboBoxItem>
 </ComboBox>

 <TextBlock Grid.Column="2" Text="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:" VerticalAlignment="Center" Foreground="White" Margin="10,0" FontSize="13" />
 <TextBox x:Name="SearchTextBox" Grid.Column="3" VerticalAlignment="Center" Margin="8,0" PlaceholderText="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£" Height="28" />

 <Button x:Name="RefreshButton" Grid.Column="4" Content="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä" Margin="10,0,0,0" Padding="8,4" VerticalAlignment="Center" Background="#e7aef6" Height="28" />

 <!-- second row: coupon type selector -->
 <TextBlock Grid.Row="1" Text="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á:" VerticalAlignment="Center" Foreground="White" Margin="6,6,0,0" FontSize="13" />
 <ComboBox x:Name="CouponTypeFilterComboBox" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="8,6,0,0" Height="28">
 <!-- items will be populated from code-behind -->
 <ComboBoxItem Tag="">-- ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î --</ComboBoxItem>
 </ComboBox>
 </Grid>
 </Border>

 <TextBlock x:Name="StatusText" Grid.Row="2" Margin="0,6,0,10" Foreground="Gray" Visibility="Collapsed" FontSize="12" />

 <!-- Table area -->
 <Grid Grid.Row="3">
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto" />
 <RowDefinition Height="*" />
 </Grid.RowDefinitions>

 <!-- Header row -->
 <Border Grid.Row="0" Background="#2f2f2f" CornerRadius="4" Padding="0" Margin="0,0,0,4">
 <Grid>
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 </Grid.ColumnDefinitions>

 <Border Grid.Column="0" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8">
 <TextBlock Text="‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="1" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8">
 <TextBlock Text="‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="2" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8">
 <TextBlock Text="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="3" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8">
 <TextBlock Text="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="4" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8">
 <TextBlock Text="‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà-‡πÄ‡∏ß‡∏•‡∏≤" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="5" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8">
 <TextBlock Text="‡∏ä‡∏∑‡πà‡∏≠ Sales" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="6" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8">
 <TextBlock Text="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="7" BorderBrush="#444" BorderThickness="0" Padding="8">
 <TextBlock Text="‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞" Foreground="#eee" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" />
 </Border>
 </Grid>
 </Border>

 <!-- Rows: ListView -->
 <ListView x:Name="ReceiptsListView" Grid.Row="1" IsItemClickEnabled="False" Background="Transparent" SelectionMode="Single">
 <ListView.ItemContainerStyle>
 <Style TargetType="ListViewItem">
 <Setter Property="Padding" Value="0" />
 <Setter Property="Margin" Value="0" />
 <Setter Property="Background" Value="Transparent" />
 <Setter Property="HorizontalContentAlignment" Value="Stretch" />
 <Setter Property="MinHeight" Value="36" />
 </Style>
 </ListView.ItemContainerStyle>

 <ListView.ItemTemplate>
 <DataTemplate x:DataType="local:ReceiptRow">
 <Grid>
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="*" />
 </Grid.ColumnDefinitions>

 <!-- bottom border for row -->
 <Border Grid.ColumnSpan="8" BorderBrush="#444" BorderThickness="0,0,0,1" />

 <Border Grid.Column="0" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind Id}" Foreground="#f3e7f7" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="1" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind CustomerName}" Foreground="#e8e8e8" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="2" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind CustomerPhone}" Foreground="#e8e8e8" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="3" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind ReceiptCode}" Foreground="#e8e8e8" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="4" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind ReceiptDateString}" Foreground="#e8e8e8" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="5" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind SalesPersonName}" Foreground="#e8e8e8" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="6" BorderBrush="#444" BorderThickness="0,0,1,0" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind PaymentMethodName}" Foreground="#e8e8e8" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 <Border Grid.Column="7" Padding="8" Background="Transparent">
 <TextBlock Text="{x:Bind Status}" Foreground="#e8e8e8" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12" />
 </Border>
 </Grid>
 </DataTemplate>
 </ListView.ItemTemplate>
 </ListView>
 </Grid>

 <!-- Footer -->
 <Border Grid.Row="4" Background="#2f2f2f" CornerRadius="6" Padding="8" Margin="0,10,0,0">
 <Grid>
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*" />
 <ColumnDefinition Width="Auto" />
 </Grid.ColumnDefinitions>

 <!-- Left: placeholder for other controls (empty) -->
 <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Spacing="8">
 <!-- placeholder buttons (disabled) -->
 <Button x:Name="EditButton" Content="‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•" IsEnabled="False" Padding="8,6" Margin="4,0" />
 <Button x:Name="EditItemsButton" Content="üßæ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" IsEnabled="False" Padding="8,6" Margin="4,0" />
 <Button x:Name="CancelButton" Content="‚úñÔ∏è ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" IsEnabled="False" Padding="8,6" Margin="4,0" />
 </StackPanel>

 <!-- Right: Back button -->
 <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
 <Button x:Name="BackButton" Content="‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å" Padding="12,8" Margin="6,0" Background="#e7aef6" />
 </StackPanel>
 </Grid>
 </Border>
 </Grid>
</Page>
